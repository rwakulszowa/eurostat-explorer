---
layout: base.html
title: Eurostat Explorer
---

<dl class="flex flex-row flex-wrap gap-4 justify-evenly">
  {% for dp in collections.datasetPages %}
  <div class="card w-96 bg-base-100 rounded-lg shadow-xl hover:drop-shadow-lg">
    <a
      href="{{ dp.data.page.url }}"
      class="card-body pb-0 min-h-[10em] flex-none"
    >
      <dt class="card-title opacity-80">{{ dp.data.dataset.code }}</dt>
      <dd>{{ dp.data.dataset.title }}</dd>
    </a>
    <div class="divider"></div>
    <div class="pb-4 px-4 text-sm leading-7">
      <ul class="carousel w-full">
        <!-- First item - a list of dimensions. -->
        <li class="carousel-item w-full flex flex-row">
          <div class="m-4 flex-none flex"></div>
          <div class="w-full flex-1 flex flex-col">
            <p class="my-1 text-base-content opacity-75">Dimensions</p>
            <ul class="w-full">
              {% for dim in dp.data.dataset.dimensions %}
              <li class="w-5/6 truncate">{{ dim.description }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="m-4 flex-none flex flex-col justify-center">
            <button class="h-fit" onclick="carouselNext(this)">
              {% lucide "arrow-right" %}
            </button>
          </div>
        </li>
        <!-- Remaining items - dimensions with a subset of their categories. -->
        {% for dim in dp.data.dataset.dimensions %}
        <li class="carousel-item w-full flex flex-row">
          <div class="m-4 flex-none flex flex-col justify-center">
            <button class="h-fit" onclick="carouselPrev(this)">
              {% lucide "arrow-left" %}
            </button>
          </div>
          <!-- min-w-0 explained here: https://stackoverflow.com/a/66689926 -->
          <div class="w-full flex-1 flex flex-col min-w-0">
            <p class="my-1 text-base-content opacity-75">
              {{ dim.description }}
            </p>
            <ul class="w-full">
              {% for cat in dim.positions | batch(5) | first %}
              <li class="w-5/6 truncate">{{ cat.description }}</li>
              {% endfor %}
            </ul>
          </div>
          <div class="m-4 flex-none flex flex-col justify-center">
            {% if not loop.last %}
            <button class="h-fit" onclick="carouselNext(this)">
              {% lucide "arrow-right" %}
            </button>
            {% endif %}
          </div>
        </li>
        {% endfor %}
      </ul>
    </div>
  </div>
  {% endfor %}
</dl>
